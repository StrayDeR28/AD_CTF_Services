## Описание
Сервис mail. Сервис получает на вход токен, расшифровывает его, получая логин пользователя. Затем для пользователя начинается отбражение входящих уведомлений, кто хочет добавится в друзья (логин товарища), и информация о новой открытке, от кого и что написано. Также надо следить за последним показанным сообщением по этим двум категориям, чтобы при новом подключении пользователя выводить только свежие данные. 

На игре будет представлен только бинарь.

В качестве криптографии выбрал чачу с фиксированным нонсом 0 и фиксированным ключом "The quick brown fox jumps over lazy". Так как иначе нужны доп параметры (нонс, ключ) или менять крипту.

Токен это HEX строка, регистр не важен. Логин ограничил 64 символами, можно подправить.

## Что добивили?
- Добавили еще одну таблицу user_last_seen, где храняться последние просмотренные записи пользователя. Ключ это логин и айпи пользователя. С вайргардом должно работать.
- Добавили тригерры и индексы в таблицы друзей и писем, чтобы меньше копаться в таблицах и получать уведомления о новых записях, а не слать кучу запросов к базе с проверкой на новизну. Значительно экономит ресурсы, так как система может быть в режиме "ожидания". Точнее она шлет запросы на обновления к базе, но не шерстит таблицы. Оставил небольшую задержку 0.1 с, когда обновлений нет, чтоб меньше напрягать систему.
- Добавил сеть, каждому пользователю свое соединение, чтобы не было перебоев в сообщениях. Как я понял, осталось обернуть в докер, остальное оставляем.
- Добавил обработку токена: 
  - символы должны быть hex-ые
  - длина четной
  - расшифрованный логин либо печатные аски символы, либо кириллица
- Добавил защиту от sql инъекций


Это вроде бы все по обновам. 

## Что можно отметить? 
- Возможно с легкостью слушать других пользователей, так как используются фиксированные нонс и ключ, чтобы этого избежать можно добавить случайный нонс. Но это требует доработки ввода и таблиц по всей видимости, и "усложняет жизнь" пользователя.
- Возможно кто-то захочет переписать запрос к базе данных и вытащит от туда все секретные данные. Тут я пока думаю над реализацией в бинарнике, но сделать очень хочется.
- Где тут вписывается редис или grpc, я не понял. Но данная вещь должна выдерживать человек 50 одновременно.

